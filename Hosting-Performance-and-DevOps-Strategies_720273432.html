<!DOCTYPE html>
<html>
    <head>
        <title>George Eastman Museum : Hosting, Performance, and DevOps Strategies</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">George Eastman Museum</a></span>
                            </li>
                                                    <li>
                                <span><a href="Product-requirements_686882889.html">Product requirements</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            George Eastman Museum : Hosting, Performance, and DevOps Strategies
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Andrew Santiago</span>, last modified on Sep 23, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1537760360974 {padding: 0px;}
div.rbtoc1537760360974 ul {list-style: none;margin-left: 0px;}
div.rbtoc1537760360974 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1537760360974'>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1</span> <a href='#Hosting,Performance,andDevOpsStrategies-Hosting'>Hosting</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-On-Premise'>On-Premise</a></li>
<li><span class='TOCOutline'>1.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-IaaS'>IaaS</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1.2.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-Amazon'>Amazon</a></li>
<li><span class='TOCOutline'>1.2.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-DigitalOcean'>Digital Ocean</a></li>
</ul>
</li>
<li><span class='TOCOutline'>1.3</span> <a href='#Hosting,Performance,andDevOpsStrategies-PaaS'>PaaS</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1.3.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-Acquia'>Acquia</a></li>
<li><span class='TOCOutline'>1.3.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-Pantheon'>Pantheon</a></li>
<li><span class='TOCOutline'>1.3.3</span> <a href='#Hosting,Performance,andDevOpsStrategies-Platform.sh,amazee.ioandothers'>Platform.sh, amazee.io and others</a></li>
</ul>
</li>
</ul>
</li>
<li><span class='TOCOutline'>2</span> <a href='#Hosting,Performance,andDevOpsStrategies-Performance'>Performance</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>2.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-PHP7vsPHP5'>PHP 7 vs PHP 5</a></li>
<li><span class='TOCOutline'>2.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-Caching'>Caching</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>2.2.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-Redis(Pantheon)'>Redis (Pantheon)</a></li>
<li><span class='TOCOutline'>2.2.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-Memcached(Acquia)'>Memcached (Acquia)</a></li>
</ul>
</li>
<li><span class='TOCOutline'>2.3</span> <a href='#Hosting,Performance,andDevOpsStrategies-HTTPaccelerators'>HTTP accelerators</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>2.3.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-Varnish(AcquiaandPantheon)'>Varnish (Acquia and Pantheon)</a></li>
</ul>
</li>
<li><span class='TOCOutline'>2.4</span> <a href='#Hosting,Performance,andDevOpsStrategies-Aggregation'>Aggregation</a></li>
<li><span class='TOCOutline'>2.5</span> <a href='#Hosting,Performance,andDevOpsStrategies-BigPipe'>Big Pipe</a></li>
<li><span class='TOCOutline'>2.6</span> <a href='#Hosting,Performance,andDevOpsStrategies-CDN'>CDN</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3</span> <a href='#Hosting,Performance,andDevOpsStrategies-DevOpsStrategies'>DevOps Strategies</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-CodeStructure'>Code Structure</a></li>
<li><span class='TOCOutline'>3.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-VersionControl'>Version Control</a></li>
<li><span class='TOCOutline'>3.3</span> <a href='#Hosting,Performance,andDevOpsStrategies-CodeDeployment'>Code Deployment</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.3.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-IaaS.1'>IaaS</a></li>
<li><span class='TOCOutline'>3.3.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-BasicPaaS'>Basic PaaS</a></li>
</ul>
</li>
<li><span class='TOCOutline'>3.4</span> <a href='#Hosting,Performance,andDevOpsStrategies-IntegrationandTesting'>Integration and Testing</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>3.4.1</span> <a href='#Hosting,Performance,andDevOpsStrategies-IntermediatePaaS'>Intermediate PaaS</a></li>
<li><span class='TOCOutline'>3.4.2</span> <a href='#Hosting,Performance,andDevOpsStrategies-AdvancedPaaS'>Advanced PaaS</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="Hosting,Performance,andDevOpsStrategies-Hosting">Hosting</h2><p>Drupal applications can be hosted in a multitude of ways, however, most solutions fall into 3 classifications - On-premises, Infrastructure as a Service, and Platform as a Service. Think of these service offerings as &quot;stacks&quot; that can either reduce the level of effort required to build your application or provide greater flexibility.  The figure below shows the delegation of layers within these services, and who is typically responsible for them.</p><p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" src="attachments/720273432/720633884.png" data-image-src="attachments/720273432/720633884.png" data-unresolved-comment-count="0" data-linked-resource-id="720633884" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2018-9-20_12-44-1.png" data-base-url="https://dropforge.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="720273432" data-linked-resource-container-version="16" data-media-id="80650bd6-acc7-4fa4-8884-0ad4676d885e" data-media-type="file"></span></p><blockquote><p>In lieu of extereme performance, security, or regulatory compliance requirements, we typically recommend Platform as a Service offerings for the majority of our customers.</p><p>- Andrew Rosborough, VP of Engineering</p></blockquote><h3 id="Hosting,Performance,andDevOpsStrategies-On-Premise">On-Premise</h3><p>The ultimate in controllability, On-Premise or Colocated hosting allows for full customizability over the underlying infrastructure down to the actual components within the server(s).  We have architected many on-premise and colocated hosting solutions in order to meet unique technical and regulatory compliance requirements.  A few great examples of successful DropForge architected on-premise/colo solutions are the corporate intranet developed for Lockheed Martin, and <a href="http://CrimewatchPA.org" class="external-link" rel="nofollow">CrimewatchPA.org</a>.  Both of these applications had a significant amount of authenticated user traffic and very complex regulatory compliance requirements regarding infrastructure.  <em><strong>Most of our clients do not require on-premise or colocated solutions and as such we typically recommend against this hosting option.</strong></em></p><h3 id="Hosting,Performance,andDevOpsStrategies-IaaS">IaaS</h3><p>Infrastructure as a Service solutions<span style="color: rgb(121,121,121);"> provide raw infrastructure-like compute and storage resources, providing the most flexibility while requiring the most hands-on management. Developers interact with the operating systems directly, build/use their own frameworks and consume infrastructure resources directly.  IaaS leverages virtualization and provides you with an experience that's as close to bare-metal as one can get in the cloud computing world.  IaaS Solutions</span></p><p><span style="color: rgb(121,121,121);">IaaS vendors include Google, Amazon, Microsoft, Digital Ocean, Rackspace, Linode, HP, IBM and many more.  Given the George Eastman Museum's experience with </span></p><h4 id="Hosting,Performance,andDevOpsStrategies-Amazon"><span style="color: rgb(121,121,121);">Amazon</span></h4><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 35.8152%;"><colgroup><col style="width: 50.7599%;"/><col style="width: 49.2401%;"/></colgroup><tbody><tr><th class="confluenceTh">Pros</th><th class="confluenceTh">Cons</th></tr><tr><td class="confluenceTd"><br/></td><td class="confluenceTd"><br/></td></tr></tbody></table></div><p><br/></p><h4 id="Hosting,Performance,andDevOpsStrategies-DigitalOcean"><span style="color: rgb(121,121,121);">Digital Ocean</span></h4><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 35.8152%;"><colgroup><col style="width: 50.7599%;"/><col style="width: 49.2401%;"/></colgroup><tbody><tr><th class="confluenceTh">Pros</th><th class="confluenceTh">Cons</th></tr><tr><td class="confluenceTd"><ul><li>Pricing</li></ul></td><td class="confluenceTd"><br/></td></tr></tbody></table></div></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3 id="Hosting,Performance,andDevOpsStrategies-PaaS">PaaS</h3><p>Platform as a Service solutions provide a development platform (as a service) to create new applications leveraging their highly tuned stacks and 3rd party integrations.  Think of them as cloud &quot;middleware&quot;, they provide additional services over IaaS and abstract many of the underlying resources away from you.  Many of these underlying resources have been heavily optimized for Drupal applications, some providers even bundle in complementary services such as CDNs, SSL, Web Application Firewalls and more.  PaaS hosting of Drupal applications shifts the technical aptitude requirements away from IT and into the realms of Developers, Content Administrations, and/or Marketers.  Many of these services augment IT departments and provide  These solutions enable your organization to focus on your application and your data, not System Administration.  Most vendors underlying stack utilizes industry standards and widely accepted best practices.   Although PaaS hosting reduces the technical complexities associated with traditional web application hosting, these solutions typically restrict flexibility since developers must utilize a prescribed underlying infrastructure and DevOps workflows.</p></div>
</div>
</div>
<div class="columnLayout two-left-sidebar" data-layout="two-left-sidebar">
<div class="cell aside" data-type="aside">
<div class="innerCell">
<h4 id="Hosting,Performance,andDevOpsStrategies-Acquia">Acquia</h4><div class="table-wrap"><table class="infobox vcard wrapped relative-table confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 32.6454%;"/><col style="width: 67.3546%;"/></colgroup><tbody><tr><td class="logo confluenceTd" style="text-align: center;" colspan="2"><div class="content-wrapper"><a class="external-link" href="https://en.wikipedia.org/wiki/File:Acquia-logo-small.gif" rel="nofollow"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" alt="Acquia-logo-small.gif" height="55" width="184" src="https://upload.wikimedia.org/wikipedia/en/3/39/Acquia-logo-small.gif" data-image-src="https://upload.wikimedia.org/wikipedia/en/3/39/Acquia-logo-small.gif"></span></a></div></td></tr><tr><th scope="row" class="confluenceTh"><div><a class="external-link" title="List of business entities" href="https://en.wikipedia.org/wiki/List_of_business_entities" rel="nofollow">Type</a></div></th><td class="category confluenceTd"><a class="external-link" title="Private company" href="https://en.wikipedia.org/wiki/Private_company" rel="nofollow">Private</a></td></tr><tr><th scope="row" class="confluenceTh">Industry</th><td class="category confluenceTd"><a class="external-link" title="Computer software" href="https://en.wikipedia.org/wiki/Computer_software" rel="nofollow">Computer software</a></td></tr><tr><th scope="row" class="confluenceTh">Founded</th><td class="confluenceTd">2007<sup class="reference"><a href="https://en.wikipedia.org/wiki/Acquia#cite_note-1" class="external-link" rel="nofollow">[1]</a></sup></td></tr><tr><th scope="row" class="confluenceTh">Founder</th><td class="agent confluenceTd"><a title="Dries Buytaert" href="https://en.wikipedia.org/wiki/Dries_Buytaert" class="external-link" rel="nofollow">Dries Buytaert</a><br/>Jay Batson</td></tr><tr><th scope="row" class="confluenceTh">Headquarters</th><td class="adr confluenceTd"><span class="locality"><a class="external-link" title="Boston, Massachusetts" href="https://en.wikipedia.org/wiki/Boston,_Massachusetts" rel="nofollow">Boston, Massachusetts</a><sup class="reference"><a href="https://en.wikipedia.org/wiki/Acquia#cite_note-locations-2" class="external-link" rel="nofollow">[2]</a></sup></span>, <span class="country-name">U.S.</span></td></tr><tr><th scope="row" class="confluenceTh"><div>Area served</div></th><td class="confluenceTd">Worldwide</td></tr><tr><th scope="row" class="confluenceTh"><div>Key people</div></th><td class="agent confluenceTd">Michael Sullivan <small>(<a title="Chief executive officer" href="https://en.wikipedia.org/wiki/Chief_executive_officer" class="external-link" rel="nofollow">CEO</a>)</small><br/><a title="Dries Buytaert" href="https://en.wikipedia.org/wiki/Dries_Buytaert" class="external-link" rel="nofollow">Dries Buytaert</a> <small>(<a title="Chief technology officer" href="https://en.wikipedia.org/wiki/Chief_technology_officer" class="external-link" rel="nofollow">CTO</a>)</small><br/>Tim Bertrand<br/>Steve Reny<br/>Heather Hartford<br/>Jairo Romero<br/>Lynne Capozzi <small>(<a title="Chief marketing officer" href="https://en.wikipedia.org/wiki/Chief_marketing_officer" class="external-link" rel="nofollow">CMO</a>)</small></td></tr><tr><th scope="row" class="confluenceTh">Revenue</th><td class="confluenceTd">Over $150 million <small>(FY 2016</small>)</td></tr><tr><th scope="row" class="confluenceTh"><div>Number of employees</div></th><td class="confluenceTd">800</td></tr><tr><th scope="row" class="confluenceTh">Website</th><td class="confluenceTd"><a class="external-link" rel="nofollow" href="http://acquia.com/">acquia.com</a></td></tr></tbody></table></div></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><br/></p><p><em><a href="https://www.crunchbase.com/organization/acquia" class="external-link" rel="nofollow">Acquia</a></em><span> </span>is a PaaS company co-founded by<span> </span>Dries Buytaert<span> </span>and Jay Batson to provide enterprise products, services, and technical support for the<span> </span>open-source<span> </span>web content management<span> </span>platform<span> </span>Drupal.  Acquia leverages a tried-and-true VM based architecture that is built on top of Amazon Web Services.  DropForge's partnership with Acquia has resulted in successful launches throughout many industries.</p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 49.8818%;"/><col style="width: 50.1182%;"/></colgroup><tbody><tr><th class="confluenceTh">Pros</th><th class="confluenceTh">Cons</th></tr><tr><td class="confluenceTd"><ul><li>Extremely well funded</li><li>VM based environments running on AWS</li><li>Greater flexibility in configuring the Runtimes/OS</li><li>Load balancers enable a high number of concurrent requests at lower plan price points</li><li>24/7 Monitoring</li><li>Remote Administration services</li><li>2 Factor Auth</li><li>Locked-down Production environments</li><li>Agency Discounts</li><li>Multiple Support Tiers</li></ul></td><td class="confluenceTd"><ul><li>Limited Scalability</li><li>Expensive</li><li>Most plans incorporate shared load balancers</li><li>Vendor lock-in due to product ecosystem</li></ul></td></tr></tbody></table></div><blockquote><p class="auto-cursor-target">Our customers with less than 1M monthly visits typically pay $20,000 - $40,000 USD for Acquia hosting</p><p class="auto-cursor-target">- Andrew Santiago, President, DropForge Labs</p></blockquote></div>
</div>
</div>
<div class="columnLayout two-left-sidebar" data-layout="two-left-sidebar">
<div class="cell aside" data-type="aside">
<div class="innerCell">
<h4 id="Hosting,Performance,andDevOpsStrategies-Pantheon">Pantheon</h4><div class="table-wrap"><table class="infobox vcard wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><td class="logo confluenceTd" style="text-align: center;" colspan="2"><div class="content-wrapper"><a class="external-link" style="text-decoration: none;" title="Pantheon (Software) Logo" href="https://en.wikipedia.org/wiki/File:Pantheon_(Software)_Logo.png" rel="nofollow"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" alt="Pantheon (Software) Logo" height="75" width="220" src="https://upload.wikimedia.org/wikipedia/en/thumb/8/82/Pantheon_%28Software%29_Logo.png/220px-Pantheon_%28Software%29_Logo.png" data-image-src="https://upload.wikimedia.org/wikipedia/en/thumb/8/82/Pantheon_%28Software%29_Logo.png/220px-Pantheon_%28Software%29_Logo.png"></span></a></div></td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh"><div><a class="external-link" style="text-decoration: none;" title="List of business entities" href="https://en.wikipedia.org/wiki/List_of_business_entities" rel="nofollow">Type</a></div></th><td class="category confluenceTd" style="text-align: left;"><a class="external-link" style="text-decoration: none;" title="Private company" href="https://en.wikipedia.org/wiki/Private_company" rel="nofollow">Private</a></td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh">Industry</th><td class="category confluenceTd" style="text-align: left;"><a class="external-link" style="text-decoration: none;" title="Computer software" href="https://en.wikipedia.org/wiki/Computer_software" rel="nofollow">Computer software</a></td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh">Founded</th><td style="text-align: left;" class="confluenceTd">2010<sup class="reference"><a style="text-decoration: none;" href="https://en.wikipedia.org/wiki/Pantheon_(software)#cite_note-1" class="external-link" rel="nofollow">[1]</a></sup></td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh">Founders</th><td class="agent confluenceTd" style="text-align: left;">Zack Rosen, David Strauss, Josh Koenig, Matt Cheney</td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh">Headquarters</th><td class="adr confluenceTd" style="text-align: left;"><span class="locality"><a class="external-link" style="text-decoration: none;" title="San Francisco, California" href="https://en.wikipedia.org/wiki/San_Francisco,_California" rel="nofollow">San Francisco, California</a><sup class="reference"><a style="text-decoration: none;" href="https://en.wikipedia.org/wiki/Pantheon_(software)#cite_note-locations-2" class="external-link" rel="nofollow">[2]</a></sup></span>,<span> </span><span class="country-name">U.S.</span></td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh"><div>Area served</div></th><td style="text-align: left;" class="confluenceTd">Worldwide</td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh"><div>Key people</div></th><td class="agent confluenceTd" style="text-align: left;">Zack Rosen<span> </span><small>(<a style="text-decoration: none;" title="Chief executive officer" href="https://en.wikipedia.org/wiki/Chief_executive_officer" class="external-link" rel="nofollow">CEO</a>)</small><br/>David Strauss<span> </span><small>(<a style="text-decoration: none;" title="Chief technology officer" href="https://en.wikipedia.org/wiki/Chief_technology_officer" class="external-link" rel="nofollow">CTO</a>)</small></td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh">Products</th><td style="text-align: left;" class="confluenceTd">Pantheon Platforms</td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh"><div>Number of employees</div></th><td style="text-align: left;" class="confluenceTd">100<span> </span><small>(June 2016</small>)</td></tr><tr><th style="text-align: left;" scope="row" class="confluenceTh">Website</th><td style="text-align: left;" class="confluenceTd"><a class="external-link" style="text-decoration: none;" rel="nofollow" href="https://pantheon.io/">pantheon.io</a></td></tr></tbody></table></div></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><br/></p><p><span style="color: rgb(68,82,94);"><em><a href="https://www.crunchbase.com/organization/pantheon" class="external-link" rel="nofollow">Pantheon</a></em> was founded in 2010 by David Strauss, Josh Koenig, Matt Cheney, and Zac Rosen and have since grown to a team of over 100 of the world’s experts in building, launching, and managing WordPress and Drupal websites. Pantheon now powers over 200,000 sites, serving billions of pageviews a month. They are funded by the backers of Heroku, ExactTarget, and SendGrid.  Pantheon utilizes a cutting-edge container-based architecture built with Kubernetes on top of the Google Cloud Patform.  </span>Pantheon provides great transparency into their technology, processes, and pricing which is rather unique for a vendor within the PaaS space.</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 51.6154%;"/><col style="width: 48.3846%;"/></colgroup><tbody><tr><th class="confluenceTh">Pros</th><th class="confluenceTh">Cons</th></tr><tr><td class="confluenceTd"><ul><li>Containers running on Google Cloud Platform</li><li>Multidev for advanced feature branch workflows</li><li>Global CDN with Programmatic Cache Control</li><li>DDoS and WAF Protection</li><li>End-to-End HTTPS (free!)</li><li>24/7 Monitoring</li><li>One Click Core Updates</li><li>Single Sign-on / SAML</li><li>2 Factor Auth</li><li>Automated Backup</li><li>CMS Optimized &quot;Valhalla&quot; File System</li><li>Locked-down Production environments</li><li>Antivirus protection</li><li>Quicksilver for Dev Automation</li><li>Custom Upstreams</li><li>New Relic APM Pro Included</li><li>Seamless Scaling</li><li>Transparent Pricing</li><li>Agency Discounts</li><li>Multiple Support Tiers</li></ul></td><td class="confluenceTd"><ul><li>Container-based environments reduce control over runtime and O/S</li><li>Only approved server-side libraries can be utilized</li><li>CI Integration is complex</li></ul></td></tr></tbody></table></div><blockquote><p class="auto-cursor-target">Our customers with less than 1M monthly visits typically pay $20,000 - $35,000 USD for Pantheon hosting</p><p class="auto-cursor-target">- Andrew Santiago, President, DropForge Labs</p></blockquote></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h4 class="auto-cursor-target" id="Hosting,Performance,andDevOpsStrategies-Platform.sh,amazee.ioandothers">Platform.sh, <a href="http://amazee.io" class="external-link" rel="nofollow">amazee.io</a> and others</h4><p>Although Acquia and Pantheon are the most used Drupal hosting platforms there are quite a few additional vendors in this space.  Many of which provide industry and/or requirement specific solutions, that being said we do not believe that these other PaaS offerings are applicable for <a href="http://Eastman.org" class="external-link" rel="nofollow">Eastman.org</a> at this time or in the foreseeable future.</p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 class="auto-cursor-target" id="Hosting,Performance,andDevOpsStrategies-Performance">Performance</h2><h3 id="Hosting,Performance,andDevOpsStrategies-PHP7vsPHP5">PHP 7 vs PHP 5</h3></div>
</div>
</div>
<div class="columnLayout two-left-sidebar" data-layout="two-left-sidebar">
<div class="cell aside" data-type="aside">
<div class="innerCell">
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/720273432/723026149.png" data-image-src="attachments/720273432/723026149.png" data-unresolved-comment-count="0" data-linked-resource-id="723026149" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2018-09-23 at 6.35.16 AM.png" data-base-url="https://dropforge.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="720273432" data-linked-resource-container-version="16" data-media-id="0c82c533-4655-40dd-ba20-a5343be200e8" data-media-type="file"></span></p><p style="text-align: center;">(Image courtesy of <a href="https://pantheon.io/blog/php-7-now-available-all-sites-pantheon" class="external-link" rel="nofollow">pantheon.io</a>)</p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>PHP 7 has become the new standard for Drupal 8 projects and comes with a variety of performance enhancements.  Generally, code following the Drupal 8 Object-Oriented paradigm and utilizing Symfony framework with PHP 7.1 or PHP 7.2 performs faster.  An example is shown below of a hypothetical performance gain measured in New Relic, a PHP performance monitoring platform.</p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3 id="Hosting,Performance,andDevOpsStrategies-Caching">Caching</h3><p>The potential for caching to break presentation layer aspects of the application has diminished to the point in Drupal 8 that, compared to Drupal 7, it is recommended to enable caching by default on all pages and views.  Both authenticated and unauthenticated sessions may be cached for increased performance during high load.</p></div>
</div>
</div>
<div class="columnLayout two-equal" data-layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h4 id="Hosting,Performance,andDevOpsStrategies-Redis(Pantheon)">Redis (Pantheon)</h4><p>Drupal cache facilities rely on database storage by default.  Enabling the Redis key-value memory cache enables the application to offload this database usage to a dedicated cache service.  Frequently requested queries will execute more quickly when Redis is enabled.</p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 54.5455%;"><colgroup><col style="width: 28.5132%;"/><col style="width: 71.4868%;"/></colgroup><tbody><tr><th colspan="2" class="confluenceTh"><div class="content-wrapper"><p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-center" alt="Redis Logo.svg" height="67" width="200" src="https://upload.wikimedia.org/wikipedia/en/thumb/6/6b/Redis_Logo.svg/200px-Redis_Logo.svg.png" data-image-src="https://upload.wikimedia.org/wikipedia/en/thumb/6/6b/Redis_Logo.svg/200px-Redis_Logo.svg.png"></span></p></div></th></tr><tr><th class="confluenceTh">Developer(s)</th><td class="confluenceTd">Salvatore Sanfilippo</td></tr><tr><th class="confluenceTh">Initial release</th><td class="confluenceTd">May 10, 2009; 9 years ago</td></tr><tr><th class="confluenceTh">Stable release</th><td class="confluenceTd">4.0.11 / August 3, 2018; 49 days ago</td></tr><tr><th class="confluenceTh">Written in</th><td class="confluenceTd">ANSI C</td></tr><tr><th class="confluenceTh">Operating system</th><td class="confluenceTd">Cross-platform</td></tr><tr><th class="confluenceTh">Available in</th><td class="confluenceTd">English</td></tr><tr><th class="confluenceTh">Type</th><td class="confluenceTd">Data structure store, Key-value database</td></tr><tr><th class="confluenceTh">License</th><td class="confluenceTd">BSD</td></tr><tr><th class="confluenceTh">Website</th><td class="confluenceTd"><a href="https://redis.io/" class="external-link" rel="nofollow">redis.io</a></td></tr></tbody></table></div></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h4 style="text-align: left;" id="Hosting,Performance,andDevOpsStrategies-Memcached(Acquia)">Memcached (Acquia)</h4><p style="text-align: left;">Memcache provides a similar functionality as Redis for offloading core cache functionality from the database with the Drupal 8 application.</p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th colspan="2" class="confluenceTh"><div class="content-wrapper"><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource image-center" alt="Memcached.svg" height="100" width="100" src="https://upload.wikimedia.org/wikipedia/en/thumb/2/27/Memcached.svg/100px-Memcached.svg.png" data-image-src="https://upload.wikimedia.org/wikipedia/en/thumb/2/27/Memcached.svg/100px-Memcached.svg.png"></span></div></th></tr><tr><th style="text-align: left;" class="confluenceTh">Developer(s)</th><td class="confluenceTd">Danga Interactive</td></tr><tr><th class="confluenceTh">Initial release</th><td class="confluenceTd">May 22, 2003</td></tr><tr><th class="confluenceTh">Stable release</th><td class="confluenceTd">1.5.9 / July 7, 2018; 2 months ago</td></tr><tr><th class="confluenceTh">Repository</th><td class="confluenceTd"><a href="https://github.com/memcached/memcached" class="external-link" rel="nofollow">https://github.com/memcached/memcached</a></td></tr><tr><th class="confluenceTh">Written in</th><td class="confluenceTd">C</td></tr><tr><th class="confluenceTh">Operating System</th><td class="confluenceTd">Cross-platform</td></tr><tr><th class="confluenceTh">Type</th><td class="confluenceTd">distributed memory caching system</td></tr><tr><th class="confluenceTh">Website</th><td class="confluenceTd"><a href="http://memcached.org/" class="external-link" rel="nofollow">memcached.org</a></td></tr></tbody></table></div></div>
</div>
</div>
<div class="columnLayout two-equal" data-layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3 id="Hosting,Performance,andDevOpsStrategies-HTTPaccelerators">HTTP accelerators</h3><h4 id="Hosting,Performance,andDevOpsStrategies-Varnish(AcquiaandPantheon)">Varnish (Acquia and Pantheon)</h4><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th style="text-align: center;" colspan="2" class="confluenceTh"><div class="content-wrapper"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image rg_ic rg_i confluence-external-resource" height="150" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQWgiGvPDUcHItjwanBbgwfJ5Ify2i32CS9tzUCGdPDXCYSDuC" data-image-src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQWgiGvPDUcHItjwanBbgwfJ5Ify2i32CS9tzUCGdPDXCYSDuC"></span></div></th></tr><tr><th class="confluenceTh">Developer(s)</th><td class="confluenceTd">Poul-Henning Kamp, Redpill-Linpro, Varnish Software</td></tr><tr><th class="confluenceTh">Stable release</th><td class="confluenceTd">6.0.0 / March 15, 2018; 6 months ago</td></tr><tr><th class="confluenceTh">Repository</th><td class="confluenceTd"><a href="https://github.com/varnishcache/varnish-cache" class="external-link" rel="nofollow">https://github.com/varnishcache/varnish-cache</a></td></tr><tr><th class="confluenceTh">Written in</th><td class="confluenceTd">C</td></tr><tr><th class="confluenceTh">Operating system</th><td class="confluenceTd">BSD, Linux, Unix</td></tr><tr><th class="confluenceTh">Type</th><td class="confluenceTd">HTTP accelerator</td></tr><tr><th class="confluenceTh">License</th><td class="confluenceTd">two-clause BSD license</td></tr><tr><th colspan="1" class="confluenceTh">Website</th><td colspan="1" class="confluenceTd"><a href="https://www.varnish-cache.org/" class="external-link" rel="nofollow">www.varnish-cache.org</a></td></tr></tbody></table></div></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><br/></p><p><br/></p><p>Often implemented by PaaS providers outside of the control of the customer,  Varnish sits in front of the application servers and relays responses from memory for page requests which have not changed since receiving a query.</p><blockquote><p>Varnish is an HTTP accelerator designed for content-heavy dynamic web sites as well as APIs. In contrast to other web accelerators, such as Squid, which began life as a client-side cache, or Apache and nginx, which are primarily origin servers, Varnish was designed as an HTTP accelerator. Varnish is focused exclusively on HTTP, unlike other proxy servers that often support FTP, SMTP and other network protocols.</p><p><a href="https://royal.pingdom.com/2012/07/11/how-popular-is-varnish/" class="external-link" rel="nofollow">Pingdom AB</a></p></blockquote><p><br/></p><br/></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3 id="Hosting,Performance,andDevOpsStrategies-Aggregation">Aggregation</h3><p>It is best practice for CSS and JavaScript files in the theme and included by Drupal modules to be minimized and combined into aggregate files, rather than referencing one file per resource.  This cuts down on load time and DOM initialization.  Minimizing interpreted code, by removing spaces and line breaks allows the interpreter in the client's browser to render the asset more quickly, as it does not have to evaluate whether or not to act on these non-functional characters.  Also, compressed aggregate files, while larger cut down on the number of open connections to the server, allowing it to process requests more quickly.</p></div>
</div>
</div>
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3 id="Hosting,Performance,andDevOpsStrategies-BigPipe">Big Pipe</h3><p>Recently introduced into Drupal core, Big Pipe serves all cacheable parts of the page initially, responding to a request from the client as quickly as possible, resulting in a short Time To First Byte metric for the client.  Subsequent dynamic and un-cached content is loaded asynchronously resulting in the appearance that the page loads and responds more quickly than if the client was required to wait for server-side processing of the dynamic values, receiving content in a single payload.</p><p>The big pipe technique was conceptualized by facebook and is documented at <a href="https://www.facebook.com/notes/facebook-engineering/bigpipe-pipelining-web-pages-for-high-performance/389414033919" class="external-link" rel="nofollow">https://www.facebook.com/notes/facebook-engineering/bigpipe-pipelining-web-pages-for-high-performance/389414033919</a></p><p>A performance diagram from the above resource displays a response time comparison of Traditional rendering and BigPipe:</p><p><br/></p></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image photo_img img confluence-external-resource" alt="Time to interact latency on Facebook's home page" src="https://scontent.fphl2-3.fna.fbcdn.net/v/t1.0-9/30586_396772147199_604391_n.jpg?_nc_cat=100&amp;oh=2ffe5f6f7bcd91cff723087bdc3cd101&amp;oe=5C1DDFF4" data-image-src="https://scontent.fphl2-3.fna.fbcdn.net/v/t1.0-9/30586_396772147199_604391_n.jpg?_nc_cat=100&amp;oh=2ffe5f6f7bcd91cff723087bdc3cd101&amp;oe=5C1DDFF4"></span></p></div>
</div>
</div>
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h3 id="Hosting,Performance,andDevOpsStrategies-CDN">CDN</h3><p>Finally, it is recommended to make use of a CDN which relies on the presence of cache-header tags provided by the Drupal Caching layer.  These headers allow the CDN to determine when content has become stale or needs to be re-rendered by the application.  The CDN mirrors content in multiple data centers allowing requests to appear fast regardless of physical regions that the user resides in.</p><p>One useful feature of a CDN is that it may offer the capability of a browseable cached version of the site to be available in times of outages.  This can mitigate the issue of a total loss of service due to an outage.</p><h2 id="Hosting,Performance,andDevOpsStrategies-DevOpsStrategies">DevOps Strategies</h2><h3 id="Hosting,Performance,andDevOpsStrategies-CodeStructure">Code Structure</h3><p>Drupal 8 projects are maintained by using the composer PHP package manager.  There are various means to configure the package manager to automate build tasks, install 3rd party libraries, and set up directories for deployment to production via custom scripting.</p><p>The composer manifest, composer.json, should be accompanied by a composer.lock file indicating the latest working versions of packages which were installed.  In this manner, a composer install command can be issued to get to the last working state of the application.</p><h3 id="Hosting,Performance,andDevOpsStrategies-VersionControl">Version Control</h3><p>All assets that have been modified from the contributed code are to be considered a liability to the developers.  It is advisable that if patches must be applied to modify vendor assets, that the patches be applied with composer extensions to maintain a trail of what functionality has been changed.  Patching in this manner should be automatic as commands are issued to stage the project.</p><p>Any code whether theme or module related, which is custom, should be maintained in a custom folder of the appropriate Drupal subfolder: modules, themes, profiles.  Contributed code will be installed to a Contrib subfolder within those directories, but will not be maintained in version control.  All packages installed by composer or node package manager (theme assets) should be left out of the repository using .gitignore parameters to exclude vendor and node_modules directories.</p><p>Excluding basic dependencies requires a build and integration phase as documented starting at the <em>Intermediate PaaS</em> section of <em>DevOps Strategies: Integration and Testing</em> in this document.</p><h3 id="Hosting,Performance,andDevOpsStrategies-CodeDeployment">Code Deployment</h3><h4 id="Hosting,Performance,andDevOpsStrategies-IaaS.1">IaaS</h4><p>Self-maintained IaaS hosting options do not have to go without a basic DevOps strategy to automatically deploy code tracked in a VCS repository.  It is relatively simple to allocate a bare repository in the home directory of the account serving the webpage outside of the document root.  This repository can use post-receive hooks to execute commands on the server which check out the code into the document root where the content of the application is served.  A basic write up on this capability is on DropForge's website:  <a href="https://www.dropforgelabs.com/blog/lightning-fast-deployment-git" class="external-link" rel="nofollow">https://www.dropforgelabs.com/blog/lightning-fast-deployment-git</a></p><h4 id="Hosting,Performance,andDevOpsStrategies-BasicPaaS">Basic PaaS</h4><p>When utilizing a PaaS solution, it is required to use VCS or git based workflows to deploy code.  This provides the added benefit that code access is granted by appropriate user accounts and authenticated with SSH keys.  At the bare minimum, the PaaS provider will host a bare git repository configured in a similar matter as the self-maintained VCS strategy, allowing developers to make commits and have that code automatically sync to staging and development environments.</p><h3 id="Hosting,Performance,andDevOpsStrategies-IntegrationandTesting">Integration and Testing</h3><h4 id="Hosting,Performance,andDevOpsStrategies-IntermediatePaaS">Intermediate PaaS</h4><p>Generally, the codebase is moved to a 3rd party provider such as GitHub to utilize API integrations with a CI provider such as TravisCI or CircleCI.  This configuration entails utilizing an Integration service, however, no test suite is run against the application, which reduces deploy times overall.  Platform tools are utilized to orchestrate a build process which ensures that the application is ready to run in the production environment.</p></div>
</div>
</div>
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h4 id="Hosting,Performance,andDevOpsStrategies-AdvancedPaaS">Advanced PaaS</h4><p>Advanced configurations of PaaS vendor integration and deployment workflows allow for continuous integration products to be introduced into the deployment process. Generally, the codebase is moved to a 3rd party provider such as GitHub, and integrations between a vendor such as CircleCI or TravisCI are used to run a suite of tests against the site before it is finally deployed to a PaaS environment.  DropForge Labs has found that due to the complex nature of Integration on some PaaS vendors, it can be necessary to configure the integration to utilize a virtualization tool, Lando, to mimic certain PaaS environments and offerings to execute tests reliably.  This adds additional complexity and time to market for projects which want to rely on Integration to maintain consistency between deployments.  Due to the advanced nature of this setup, it is discouraged against for IaaS users to maintain the burden of this configuration.</p><p>Below is an example of a workflow which could be utilized to test and deploy updates to the application.  The times are reflective of a complex test framework with 97 scenarios, and the CI jobs are executed in a fan-out fan-in architecture consisting of 1 build process, 4 test processes running in parallel, and 1 deploy process. Eight minutes is required at the start of each job to install and initialize a local test environment with feature parity to Pantheon using Lando that serves the application.  The test process synchronizes the database from a development environment, and finally, after tests successfully indicate that they have passed, a deploy step initiates platform related commands to deploy all build artifacts.  Additional insight is available on failures provided by accessing test reports and screen captures taken during failing test scenarios.</p></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<p><br/></p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/720273432/723058958.png" data-image-src="attachments/720273432/723058958.png" data-unresolved-comment-count="0" data-linked-resource-id="723058958" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2018-09-23 at 10.05.05 AM.png" data-base-url="https://dropforge.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="720273432" data-linked-resource-container-version="16" data-media-id="b14f4500-1924-4be2-8e3d-1c23b91b6eb7" data-media-type="file"></span></p></div>
</div>
</div>
</div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/720273432/720633884.png">image2018-9-20_12-44-1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/720273432/723026149.png">Screen Shot 2018-09-23 at 6.35.16 AM.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/720273432/723058958.png">Screen Shot 2018-09-23 at 10.05.05 AM.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 23, 2018 23:39</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
