<!DOCTYPE html>
<html>
    <head>
        <title>George Eastman Museum : Base Line Audit of Existing Drupal 7 Site</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">George Eastman Museum</a></span>
                            </li>
                                                    <li>
                                <span><a href="Product-requirements_686882889.html">Product requirements</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            George Eastman Museum : Base Line Audit of Existing Drupal 7 Site
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Andrew Rosborough</span>, last modified on Sep 24, 2018
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1537761981160 {padding: 0px;}
div.rbtoc1537761981160 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1537761981160 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1537761981160'>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1</span> <a href='#BaseLineAuditofExistingDrupal7Site-Introduction'>Introduction</a></li>
<li><span class='TOCOutline'>2</span> <a href='#BaseLineAuditofExistingDrupal7Site-Methodology'>Methodology</a></li>
<li><span class='TOCOutline'>3</span> <a href='#BaseLineAuditofExistingDrupal7Site-ExecutiveSummary'>Executive Summary</a></li>
<li><span class='TOCOutline'>4</span> <a href='#BaseLineAuditofExistingDrupal7Site-FactsandFindings'>Facts and Findings</a></li>
<li><span class='TOCOutline'>5</span> <a href='#BaseLineAuditofExistingDrupal7Site-Recommendations'>Recommendations</a></li>
<li><span class='TOCOutline'>6</span> <a href='#BaseLineAuditofExistingDrupal7Site-ActionPlan'>Action Plan</a></li>
</ul>
</div></p><h2 id="BaseLineAuditofExistingDrupal7Site-Introduction">Introduction</h2><p>This document pertains to a premium audit performed on the <a href="https://www.eastman.org" class="external-link" rel="nofollow">https://www.eastman.org</a> (Eastman Museum) web property.  Analysis herein is presented in sections below.  The format provided includes an executive summary and a corresponding introduction to each assessment category facet.   These assessment categories (facets) will also include facts and findings discovered during the investigative portion of the audit process.  Finally, recommendations for each section will be presented as suggested resolution to mitigate and/or better understand identified weaknesses.</p><p>Any questions regarding the material provided will be answered by the C/O residing with DropForge Labs.  Please also be sure to review the referenced appendixes (if applicable) relating to their relevant sections for information regarding how some of the</p><p><br/></p><p>facts and findings were obtained.</p><h2 id="BaseLineAuditofExistingDrupal7Site-Methodology">Methodology</h2><p>Derived primarily from our audit</p><p>team’s <em>35 years of combined experience in the technology sector</em>, our audit methodology leverages user-driven subjective testing, meticulous code reviews, application of industry standards, KPI and metric-based analysis, risk assessments, and our proprietary scoring algorithm.  The audit process can be best visualized using the diagram on the right.</p><p><strong><em>Subjective Testing</em></strong> – This type of opinion oriented testing can be found primarily in the experience portions of our audit. We utilize hallway testing techniques along with a variety of user-driven tests to provide thorough analysis. </p><p><strong><em>Code Review</em></strong> – This specific process involves the meticulous automated and hand-curated review of code by our seasoned app devs.  Our Solution Architects then analyze applicability of code and its ability to facilitate core business needs.  For open source components we also seek to determine the overlap between custom code and community derived code.</p><ul><li>Establish achievable goals and provide prioritization of goals, for application improvements</li><li>Mitigation of the long-term total cost of ownership (TCO)</li><li>Preparation for a long-term support/maintenance engagement with DropForge Labs</li></ul><h1 id="BaseLineAuditofExistingDrupal7Site-Performance">Performance</h1><h2 id="BaseLineAuditofExistingDrupal7Site-ExecutiveSummary">Executive Summary</h2><p>Performance metrics such as server response time and document size affect the amount of time it takes a page to load in a visitor’s browser.  These have been known to affect search rankings and generally tie in to whether or not a user’s experience is positive.  We have evaluated several metrics and settings which may affect these metrics to advise on whether or not the site is performing at an optimal level. </p><h2 id="BaseLineAuditofExistingDrupal7Site-FactsandFindings">Facts and Findings</h2><div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><td width="288" class="confluenceTd"><p><span><sub><span>Analysis</span></sub></span></p></td><td width="264" class="confluenceTd"><p><span><sub><span>Notes</span></sub></span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Security updates for modules</strong></p></td><td width="264" class="confluenceTd"><p>2 security / 12 others</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>PHP 5.6</strong></p></td><td width="264" class="confluenceTd"><p><span>Recommend 7.1</span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>1 GB Memory Limit</strong></p></td><td width="264" class="confluenceTd"><p>Should be around 192MB</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>33 Enabled modules not in use </strong></p></td><td width="264" class="confluenceTd"><p><span><span> </span></span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>7 Development modules enabled</strong></p></td><td width="264" class="confluenceTd"><p><span><span> </span></span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Views PHP and PHP filter modules in use</strong></p></td><td width="264" class="confluenceTd"><p>Bad practice</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Non-used themes are enabled</strong></p></td><td width="264" class="confluenceTd"><p><span><span> </span></span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Database logging is keeping 1M rows</strong></p></td><td width="264" class="confluenceTd"><p><span>Should be truncated and trimmed to 1K</span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Contact link in footer is broken</strong></p></td><td width="264" class="confluenceTd"><p><span><span> </span></span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Webform and Contact modules are enabled</strong></p></td><td width="264" class="confluenceTd"><p>Both modules serve same purpose</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Database powered search vs Solr</strong></p></td><td width="264" class="confluenceTd"><p><span>Solr is more performant and provides better search facilities</span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Content type not in use</strong></p></td><td width="264" class="confluenceTd"><p>9 content types look to be not in use</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>PHPMailer / SMTP used for email sending via gmail</strong></p></td><td width="264" class="confluenceTd"><p><span>Transactions services provide better reliability (mandrill)</span></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Site builder modules should be replaced with theme functions</strong></p></td><td width="264" class="confluenceTd"><p>Exclude note titles, Block Class, Menu attributes, Custom Search, Context</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Ubercart modules enabled</strong></p></td><td width="264" class="confluenceTd"><p>Extra modules slow the site down</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Caching is disabled</strong></p></td><td width="264" class="confluenceTd"><p>Css/JS/Page/Block caching should be enabled</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>CDN not used for static assets</strong></p></td><td width="264" class="confluenceTd"><p>Jquery/images/etc</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Multiple versions of Font Awesome from different CDNs</strong></p></td><td width="264" class="confluenceTd"><p>Only need 1</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Multiple versions of same fonts from Google Fonts</strong></p></td><td width="264" class="confluenceTd"><p>Combine into single call</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Contexts / Features are all overridden and broken</strong></p></td><td width="264" class="confluenceTd"><p>Items need to be exported out to code</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>PHP in template files / throwing errors and log messages</strong></p></td><td width="264" class="confluenceTd"><p>Code should be moved to template.php and cleaned up.</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Apple Touch icons / Favicons missing</strong></p></td><td width="264" class="confluenceTd"><p>Bad UX and causes extra log messages</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Credit Card Processing allows CC number to touch server</strong></p></td><td width="264" class="confluenceTd"><p>Use a direct post or iframe method to fix PCI compliance issues</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Use of user account 1</strong></p></td><td width="264" class="confluenceTd"><p>Bad practice</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>HTML in views rewriting</strong></p></td><td width="264" class="confluenceTd"><p>Code should be moved to tpl files</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Content Authoring issues</strong></p></td><td width="264" class="confluenceTd"><p>Embedded css/js/styles, direct html inputs, PHP input filter in use</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Dynamic manipulation of block content</strong></p></td><td width="264" class="confluenceTd"><p>Social Link list in contact block</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Empty files being included</strong></p></td><td width="264" class="confluenceTd"><p>Alter_attributes.js</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>JS manipulation of DOM</strong></p></td><td width="264" class="confluenceTd"><p>Adding classes, moving elements, adding wrappers, js vs media queries</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Non-drupal items in docroot</strong></p></td><td width="264" class="confluenceTd"><p>404 Directory, Photofinish5K, Base Analytics, etc</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Core Text Files are accessible</strong></p></td><td width="264" class="confluenceTd"><p>Exposes what version of Drupal is installed.</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Theme changes based on specific node IDs vs context/types</strong></p></td><td width="264" class="confluenceTd"><p>Find better way to change things so not dependent on specific internal ID</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Drupal Coding standards not in use</strong></p></td><td width="264" class="confluenceTd"><p><br/></p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>DOM parsing/searching in custom modules/view output</strong></p></td><td width="264" class="confluenceTd"><p>Should use context variables instead</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Custom code could be replaced with contrib/views</strong></p></td><td width="264" class="confluenceTd"><p>Blocks, views remove</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Docroot should be organized better</strong></p></td><td width="264" class="confluenceTd"><p>Contrib vs custom</p></td></tr><tr><td width="288" class="confluenceTd"><p><strong>Multiple Custom modules could be combined</strong></p></td><td width="264" class="confluenceTd"><p>Less files to be included/executed</p></td></tr></tbody></table></div><h2 id="BaseLineAuditofExistingDrupal7Site-Recommendations">Recommendations</h2><p>JavaScript needs to be aggregated and minified with respect to retaining functionality of un-minified scripts.  The</p><p>Sluggish page load times may be the biggest needs to be aggregated and reduced in size.  The biggest factor in load times is the time that the browser takes to render the document and its resources.  See the performance section for more detail on this point.</p><h1 id="BaseLineAuditofExistingDrupal7Site-ClosingRemarks">Closing Remarks</h1><p>From the end user’s perspective, the site is built well and organized efficiently. The site is responsive and fast enough that it’s not a burden on mobile devices. Based on our Code Review, the code-base seriously lacks maintainability.  This is primarily due to previous development teams failing to use industry and Drupal best practices.  By refactoring a significant portion of the code base the site can be much more easily maintained, become more performant, and experience a reduced total cost of ownership. The theme layer is extremely disorganized and doesn’t follow many standard Drupal conventions or best practices.</p><h2 id="BaseLineAuditofExistingDrupal7Site-ActionPlan">Action Plan</h2><p>We recommend performing the following list of items to the existing Drupal 7 site.</p><ol><li>Perform security updates</li><li>Enable css / js caching<ol><li>Only if it doesn’t break existing site</li></ol></li><li>Fix footer contact link</li><li>Limit database logging to 1K rows</li><li>Disable unused modules<ol><li>Only if it doesn’t break existing site</li></ol></li><li>Evaluate / Remove non-Drupal items in docroot<ol><li>To be performed by GEM Team</li></ol></li><li>Remove Drupal core TXT files from docroot<ol><li>To be performed by GEM team</li></ol></li></ol>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Sep 24, 2018 00:06</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
